{{ define "main" }}
<!-- About section at the top -->
<section id="about">
  <h2>About</h2>
  <p>
    {{ .Content }}
  </p>
</section>

<main>
  <!-- Left column -->
  <div>
    <section id="projects">
      <h2>Projects</h2>
      <ul class="list">
        {{ range sort (where .Site.RegularPages "Section" "projects") "Date" "desc" }}
          <li>
            <div class="item-title">
              {{ if .Params.link }}
                <a href="{{ .Params.link }}" target="_blank" rel="noopener">{{ .Title }}</a>
              {{ else }}
                {{ .Title }}
              {{ end }}
            </div>
            <div class="item-meta">
              {{ .Date.Format "2006" }}
              {{ with .Params.tech }} · {{ delimit . ", " }}{{ end }}
            </div>
            <p class="item-desc">
              {{ .Summary }}
            </p>
          </li>
        {{ end }}
      </ul>
    </section>

    <section id="experience">
      <h2>Experience</h2>
      <ul class="list">
        {{ range sort (where .Site.RegularPages "Section" "experience") "Date" "desc" }}
          <li>
            <div class="item-title">{{ .Params.role }}</div>
            <div class="item-subtitle">{{ .Params.company }}</div>
            <div class="item-meta">
              {{ .Date.Format "Jan 2006" }}{{ if .Params.endDate }} - {{ (time .Params.endDate).Format "Jan 2006" }}{{ else }} - Present{{ end }}
              {{ with .Params.location }} · {{ . }}{{ end }}
              {{ with .Params.tech }} · {{ delimit . ", " }}{{ end }}
            </div>
            <p class="item-desc">
              {{ .Summary }}
            </p>
          </li>
        {{ end }}
      </ul>
    </section>

    <section id="education">
      <h2>Education</h2>
      <ul class="list">
        {{ range sort (where .Site.RegularPages "Section" "education") "Date" "desc" }}
          <li>
            <div class="item-title">{{ .Params.degree }} in {{ .Params.field }}</div>
            <div class="item-subtitle">{{ .Params.institution }}</div>
            <div class="item-meta">
              {{ .Date.Format "Jan 2006" }}{{ if .Params.endDate }} - {{ (time .Params.endDate).Format "Jan 2006" }}{{ else }} - Present{{ end }}
              {{ with .Params.location }} · {{ . }}{{ end }}
            </div>
            <p class="item-desc">
              {{ .Summary }}
            </p>
          </li>
        {{ end }}
      </ul>
    </section>

    <section id="certifications">
      <h2>Certifications</h2>
      <ul class="list">
        {{ range sort (where .Site.RegularPages "Section" "certifications") "Date" "desc" }}
          <li>
            <div class="item-title">
              {{ if .Params.credentialUrl }}
                <a href="{{ .Params.credentialUrl }}" target="_blank" rel="noopener">{{ .Title }}</a>
              {{ else }}
                {{ .Title }}
              {{ end }}
            </div>
            <div class="item-subtitle">{{ .Params.issuer }}</div>
            <div class="item-meta">
              {{ .Date.Format "Jan 2006" }}{{ if .Params.endDate }} - {{ (time .Params.endDate).Format "Jan 2006" }}{{ else }} - Present{{ end }}
              {{ with .Params.credentialId }} · ID: {{ . }}{{ end }}
            </div>
            <p class="item-desc">
              {{ .Summary }}
            </p>
          </li>
        {{ end }}
      </ul>
    </section>

  </div>

  <!-- Right column -->
  <div>
    <section id="skills">
      <h2>Skills</h2>
      {{ range sort (where .Site.RegularPages "Section" "skills") "Params.weight" "asc" }}
        <h3>{{ .Title }}</h3>
        <div>
          {{ range .Params.skills }}
            <span class="pill">{{ . }}</span>
          {{ end }}
        </div>
        <p class="item-desc">{{ .Content }}</p>
      {{ end }}
    </section>


    <section id="contact">
      <h2>Contact</h2>
      <p>
        Email:
        <a href="mailto:{{ .Site.Params.email }}">{{ .Site.Params.email }}</a><br>
        GitHub:
        <a href="https://github.com/{{ .Site.Params.github }}" target="_blank" rel="noopener">
          @{{ .Site.Params.github }}
        </a><br>
        LinkedIn:
        <a href="https://www.linkedin.com/in/{{ .Site.Params.linkedin }}" target="_blank" rel="noopener">
          linkedin.com/in/{{ .Site.Params.linkedin }}
        </a><br>
        Location: {{ .Site.Params.location }}
      </p>
    </section>

    <section id="recent-posts">
      <h2>Recent Posts</h2>
      <ul class="list">
        {{ range first 3 (sort (where .Site.RegularPages "Section" "blog") "Date" "desc") }}
          <li>
            <div class="item-title">
              <a href="{{ .Permalink }}">{{ .Title }}</a>
            </div>
            <div class="item-meta">
              {{ .Date.Format "Jan 02, 2006" }}
            </div>
          </li>
        {{ end }}
      </ul>
    </section>
  </div>
</main>
{{ end }}